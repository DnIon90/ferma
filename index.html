<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Apartamente + Depozit + Laverie</title>
<style>
body { font-family: Arial, sans-serif; background:#f0f0f0; padding:20px; }
h1,h2 { color:#2e7d32; }
input,button { padding:6px; margin:5px 0; border-radius:4px; border:1px solid #ccc; width:100%; max-width:220px; }
button { background:#2e7d32; color:white; border:none; cursor:pointer; }
button:hover { background:#1b5e20; }
section { margin-bottom:25px; background:white; padding:15px; border-radius:8px; box-shadow:0 0 5px rgba(0,0,0,0.1); }
table { border-collapse: collapse; margin-top:15px; background:white; width:100%; max-width:700px; }
th, td { border:1px solid #ccc; padding:6px 12px; text-align:center; }
th { background:#2e7d32; color:white; }
.total { margin-top:10px; font-weight:bold; }
.delete-btn { background:#d32f2f; color:white; border:none; cursor:pointer; padding:3px 6px; border-radius:3px; font-size:12px; }
.delete-btn:hover { background:#b71c1c; }
</style>
</head>
<body>
<h1>ğŸ¢ Apartamente + ğŸ­ Depozit + ğŸ§º Laverie</h1>

<!-- APARTAMENTE -->
<section id="apartamente-area">
  <h2>ğŸ¢ Apartamente</h2>
  <input type="date" id="work-date">
  <input type="time" id="start-hour" placeholder="Ãnceput">
  <input type="time" id="end-hour" placeholder="SfÃ¢rÈ™it">
  <input type="text" id="work-place" placeholder="Locul de muncÄƒ">
  <input type="number" id="hourly-rate" placeholder="Plata/orÄƒ (â‚¬)">
  <button onclick="addEntry('apartamente')">AdaugÄƒ zi</button>

  <table>
    <thead>
      <tr>
        <th>#</th><th>Data</th><th>De la</th><th>PÃ¢nÄƒ la</th><th>Ore</th><th>Loc</th><th>â‚¬/orÄƒ</th><th>Total</th><th>È˜terge</th>
      </tr>
    </thead>
    <tbody id="apartamente-table"></tbody>
  </table>
  <div class="total" id="apartamente-total">Total Apartamente: 0 â‚¬</div>
</section>

<!-- DEPOZIT -->
<section id="depozit-area">
  <h2>ğŸ­ Depozit</h2>
  <input type="date" id="depozit-date">
  <input type="time" id="depozit-start" placeholder="Ãnceput">
  <input type="time" id="depozit-end" placeholder="SfÃ¢rÈ™it">
  <input type="text" id="depozit-desc" placeholder="Activitate">
  <input type="number" id="depozit-rate" placeholder="Plata/orÄƒ (â‚¬)">
  <button onclick="addEntry('depozit')">AdaugÄƒ zi Depozit</button>

  <table>
    <thead>
      <tr>
        <th>#</th><th>Data</th><th>De la</th><th>PÃ¢nÄƒ la</th><th>Ore</th><th>Activitate</th><th>â‚¬/orÄƒ</th><th>Total</th><th>È˜terge</th>
      </tr>
    </thead>
    <tbody id="depozit-table"></tbody>
  </table>
  <div class="total" id="depozit-total">Total Depozit: 0 â‚¬</div>
</section>

<!-- LAVERIE -->
<section id="laverie-area">
  <h2>ğŸ§º Laverie</h2>
  <label>Suma primitÄƒ de la È™ef (â‚¬):</label>
  <input type="number" id="suma-sef" placeholder="Ex: 100">
  <button onclick="adaugaSuma()">AdaugÄƒ / ActualizeazÄƒ</button>
  <hr>
  <input type="number" id="cheltuiala" placeholder="CheltuialÄƒ (â‚¬)">
  <input type="text" id="descriere" placeholder="Descriere">
  <button onclick="adaugaCheltuiala()">AdaugÄƒ cheltuialÄƒ</button>

  <table>
    <thead>
      <tr><th>#</th><th>Descriere</th><th>Suma</th><th>È˜terge</th></tr>
    </thead>
    <tbody id="laverie-table"></tbody>
  </table>
  <div class="total" id="laverie-total">Total cheltuit: 0 â‚¬ | RÄƒmas: 0 â‚¬</div>
</section>

<script>
//=== Date stocate ===
let dataStore = {
  apartamente: JSON.parse(localStorage.getItem('apartamente')) || [],
  depozit: JSON.parse(localStorage.getItem('depozit')) || [],
  laverie: JSON.parse(localStorage.getItem('laverie')) || [],
  sumaSef: parseFloat(localStorage.getItem('sumaSef')) || 0
};

//=== FuncÈ›ii adÄƒugare ===
function addEntry(type){
  let date, start, end, desc, rate;
  if(type==='apartamente'){
    date=document.getElementById('work-date').value;
    start=document.getElementById('start-hour').value;
    end=document.getElementById('end-hour').value;
    desc=document.getElementById('work-place').value;
    rate=parseFloat(document.getElementById('hourly-rate').value) || 0;
  } else {
    date=document.getElementById('depozit-date').value;
    start=document.getElementById('depozit-start').value;
    end=document.getElementById('depozit-end').value;
    desc=document.getElementById('depozit-desc').value;
    rate=parseFloat(document.getElementById('depozit-rate').value) || 0;
  }
  if(!date||!start||!end||!desc||!rate){ alert("CompleteazÄƒ toate cÃ¢mpurile!"); return; }
  let hours=(new Date(date+'T'+end)-new Date(date+'T'+start))/3600000;
  if(hours<0) hours=0;
  const total=(hours*rate).toFixed(2);
  const entry={date,start,end,desc,hours:hours.toFixed(2),rate,total};
  dataStore[type].push(entry);
  localStorage.setItem(type,JSON.stringify(dataStore[type]));
  renderTables();
}

function renderTables(){
  function render(type, tableId, totalId){
    const tbody=document.getElementById(tableId);
    tbody.innerHTML='';
    let sum=0;
    dataStore[type].forEach((e,i)=>{
      const tr=document.createElement('tr');
      tr.innerHTML=`<td>${i+1}</td><td>${e.date}</td><td>${e.start}</td><td>${e.end}</td><td>${e.hours}</td><td>${e.desc}</td><td>${e.rate}</td><td>${e.total}</td><td><button class="delete-btn" onclick="delEntry('${type}',${i})">X</button></td>`;
      tbody.appendChild(tr);
      sum+=parseFloat(e.total);
    });
    document.getElementById(totalId).textContent=`Total ${type==='apartamente'?'Apartamente':'Depozit'}: ${sum.toFixed(2)} â‚¬`;
  }
  render('apartamente','apartamente-table','apartamente-total');
  render('depozit','depozit-table','depozit-total');

  // Laverie
  const tbodyL=document.getElementById('laverie-table');
  tbodyL.innerHTML='';
  let cheltuit=0;
  dataStore.laverie.forEach((e,i)=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${i+1}</td><td>${e.desc}</td><td>${e.suma}</td><td><button class="delete-btn" onclick="delEntryLaverie(${i})">X</button></td>`;
    tbodyL.appendChild(tr);
    cheltuit+=parseFloat(e.suma);
  });
  document.getElementById('laverie-total').textContent=`Total cheltuit: ${cheltuit.toFixed(2)} â‚¬ | RÄƒmas: ${(dataStore.sumaSef-cheltuit).toFixed(2)} â‚¬`;
}

//=== È˜tergere ===
function delEntry(type,i){
  dataStore[type].splice(i,1);
  localStorage.setItem(type,JSON.stringify(dataStore[type]));
  renderTables();
}
function delEntryLaverie(i){
  dataStore.laverie.splice(i,1);
  localStorage.setItem('laverie',JSON.stringify(dataStore.laverie));
  renderTables();
}

//=== Laverie ===
function adaugaSuma(){
  let s=parseFloat(document.getElementById('suma-sef').value) || 0;
  dataStore.sumaSef+=s;
  localStorage.setItem('sumaSef',dataStore.sumaSef);
  renderTables();
}
function adaugaCheltuiala(){
  let s=parseFloat(document.getElementById('cheltuiala').value) || 0;
  let d=document.getElementById('descriere').value;
  if(!s||!d){alert("CompleteazÄƒ cheltuiala È™i descrierea!"); return;}
  dataStore.laverie.push({desc:d,suma:s});
  localStorage.setItem('laverie',JSON.stringify(dataStore.laverie));
  renderTables();
  document.getElementById('cheltuiala').value='';
  document.getElementById('descriere').value='';
}

//=== IniÈ›ializare ===
renderTables();
</script>
</body>
</html>